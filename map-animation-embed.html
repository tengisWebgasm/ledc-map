<div id="map-animation-embed">
    <script>
        var datacenterDetails = {
            'albury': {
                // CAN1
                'endpoint': {

                },
                'telco-partners': {
                    'cm': ['aws', 'azure', 'gcp', 'alicloud', 'ibm', 'huawei'],
                    'ct': ['aws', 'azure', 'alicloud', 'ibm'],
                    'cu': ['ct-cloud', 'alicloud'],
                    'hgc': ['aws', 'azure', 'gcp', 'alicloud'],
                    'guangzhou-shunhang': [],
                    'guangzhou-anju': [],
                    'logicom-tech': [],
                    'guangzhou-yingtong': [],
                    'guangzhou-yunju': [],
                    'nova': ['aws', 'salesforce', 'office-365', 'alicloud', 'tencent', 'azure'],
                    'cypresstel': ['aws', 'alicloud', 'gcp', 'office-365', 'tencent', 'azure'],
                },
                'network-fabric': {},
            },
            'dubbo': {
                // HKG2
                'endpoint': {
                    'tamworth': {
                        'ping': 47,
                    }
                },
                'telco-partners': {
                    'hgc': ['aws', 'azure', 'gcp', 'alicloud', 'salesforce', 'office-365'],
                    'pccw': ['aws', 'azure', 'gcp', 'oracle', 'alicloud', 'ibm', 'tencent'],
                    'hkbn': [],
                    'hk-telecom': [],
                    'cypresstel': ['aws', 'alicloud', 'gcp', 'office-365', 'tencent', 'azure'],
                },
                'network-fabric': {
                    'console-connect': ['console-connectx'],
                },
            },
            'newcastle': {
                // NKG1
                'endpoint': {
                    'tamworth': {
                        'ping': 30,
                    }
                },
                'telco-partners': {
                    'cm': ['aws', 'azure', 'gcp', 'alicloud', 'ibm', 'huawei'],
                    'ct': ['aws', 'azure', 'alicloud', 'ibm'],
                    'cu': ['ct-cloud', 'alicloud'],
                    // 'srt': ['aws', 'alicloud', 'tencent', 'azure', 'huawei', 'u-cloud', 'baidu'],
                    'nova': ['aws', 'salesforce', 'office-365', 'alicloud', 'tencent', 'azure'],
                    'citic': ['aws', 'alicloud', 'tencent', 'azure', 'huawei', 'u-cloud', 'baidu'],
                    'telstra-pbs': [],
                },
                'network-fabric': {},
            },
            'tamworth': {
                // SIN1
                'endpoint': {
                    'dubbo': {
                        'ping': 47,
                    },
                    'newcastle': {
                        'ping': 30,
                    },
                },
                'telco-partners': {
                    'singtel': ['aws', 'azure', 'gcp', 'alicloud', 'office-365', 'vmware', 'dell-emc',
                        'hpe', 'nutanix'
                    ],
                    'starhub': ['aws', 'azure'],
                    'telstra': ['aws', 'azure', 'ibm', 'vmware', 'netapp'],
                    'm1': ['aws', 'nutanix'],
                    'hgc': ['aws', 'azure', 'office-365'],
                    'sp-telecom': ['aws', 'azure', 'gcp', 'alicloud'],
                    'at&t': ['aws', 'azure', 'gcp', 'oracle', 'ibm', 'salesforce', 'dell-emc'],
                    'nova': ['aws', 'salesforce', 'office-365', 'alicloud', 'tencent', 'azure'],
                    'superloop': [],
                    'cogent': [],
                    'netlink-trust': [],
                    'viewquest': [],
                    'colt': [],
                },
                'network-fabric': {},
            },
        };
    </script>
    <style>
        html {
            font-family: 'Poppins', sans-serif;
        }

        body {
            margin: 0;
        }

        select {
            font: inherit;
        }

        .container {
            display: block;
            width: 100%;
            max-width: 1380px;
            margin-right: auto;
            margin-left: auto;
            padding-right: 50px;
            padding-left: 50px;
        }

        p {
            margin: 0;
        }

        #map-animation-embed * {
            box-sizing: border-box;
        }

        #map-element svg {
            width: auto;
            height: 100%;
        }

        #map-container {
            width: 100%;
            height: calc(100vh - 64px);
            overflow-y: hidden;
            background-color: #8AB4F8;
            position: relative;
        }

        #map-wrapper {
            height: 100%;
            width: 100%;
            position: absolute;
        }

        #map-side-panel {
            position: absolute;
            left: 0;
            right: 0;
            top: 100%;
            z-index: 2;
            background-color: #FFFFFF;
            transform: translateY(-88px);
            transition: transform 0.5s ease;
        }

        #map-side-panel h2 {
            font-style: normal;
            font-weight: normal;
            font-size: 24px;
            line-height: 28px;
            margin: 0px;
            color: #010611;
        }

        #map-element-label {
            display: flex;
            justify-content: center;
            align-items: stretch;
            position: absolute;
            z-index: 4;
            top: 16px;
            margin: auto 0;
            padding: 8px 16px;
            background-color: #ffffff;
            box-shadow: 10px 10px 40px rgba(0, 0, 0, 0.1);
            border-radius: 100px;
            font-size: 14px;
            line-height: 24px;
        }

        .city-select {
            width: 100%;
        }

        #map-element-label p {
            margin: 0;
        }

        #city-selection-container {
            display: flex;
            justify-content: space-between;
            align-items: center;
            width: 100%;
            gap: 20px;
            padding-top: 16px;
            padding-bottom: 24px;
        }

        #city-selection-expand {
            position: absolute;
            top: 0;
            left: 50%;
            height: 40px;
            width: 120px;
            transform: translate(-50%, calc(-100% + 12px));
            border: none;
            background-color: transparent;
            background-image: url('https://ledc.kholab.co/wp-content/themes/twentytwentyone/assets/images/Expand.svg');
            background-size: 80px 16px;
            background-repeat: no-repeat;
            background-position: 50%;
            cursor: pointer;
            z-index: 100;
        }

        .expand-icon {
            width: 16px;
            height: 16px;
            margin: auto;
            background-image: url("https://ledc.kholab.co/wp-content/themes/twentytwentyone/assets/images/expandIcon.svg");
            background-size: contain;
            transition: transform 0.5s ease;
        }

        #city-selection-expand * {
            cursor: pointer;
        }

        #city-selection-expand:active {
            opacity: 0.6;
        }

        #city-selection-icons {
            grid-area: icons;
            display: flex;
            flex-direction: column;
            justify-content: space-between;
            align-items: center;
        }

        #city-select-start {
            grid-area: select-start;
        }

        #city-select-end {
            grid-area: select-end;
        }

        .city-select select {
            width: 100%;
            height: 100%;

            background-image: url('https://ledc.kholab.co/wp-content/themes/twentytwentyone/assets/images/map-pin.svg');
            background-position: 16px 50%;
            background-size: 16px;
            background-repeat: no-repeat;
            border: 1px solid #e7e7e9;
            box-sizing: border-box;
            border-radius: 4px;
            padding: 12px;
            padding-left: 48px;
            color: #000000;

            -webkit-appearance: none;
            -moz-appearance: none;
            appearance: none;

            font-style: normal;
            font-weight: 400;
            font-size: 14px;
            line-height: 24px;
        }

        .city-select select:disabled {
            opacity: 0.7;
        }

        .city-select select>option:disabled {
            color: #dadada;
        }

        .city-select {
            position: relative;
        }

        .city-select:after {
            content: "";
            width: 0;
            height: 0;
            position: absolute;
            pointer-events: none;
        }

        .city-select:after {
            border-left: 5px solid transparent;
            border-right: 6px solid transparent;
            top: 21px;
            right: 22px;
            border-top: 6px solid #010611;
        }

        .city-select[disabled]:after {
            opacity: 0.3;
        }

        .city-select[active] select {
            /* color: #6E6D7A; */
            color: #00005c;
            font-weight: 500;
        }

        .city-select-label {
            position: absolute;
            left: 8px;
            top: 4px;
            font-style: normal;
            font-weight: 500;
            font-size: 12px;
            line-height: 10px;
            color: #6e6d7a;

            display: none;
        }

        .city-select[active] .city-select-label {
            display: block;
        }

        .city-select-mini-label {
            font-style: normal;
            font-weight: normal;
            font-size: 14px;
            line-height: 20px;
            color: #6e6d7a;
        }

        .label-seperator {
            margin: 0 16px;
            width: 1px;
            background-color: #D6D6D6;
        }

        .label-marker {
            width: 20px;
            height: 20px;
            border-radius: 4px;
            margin-right: 8px;
            align-self: center;
        }

        #ping-display {
            font-style: normal;
            font-weight: 300;
            font-size: 36px;
            line-height: 43px;
            color: #00005c;
        }

        #city-destination-details[off] {
            /* display: none; */
            visibility: hidden;
        }

        #map-element {
            position: absolute;
            width: auto;
            height: 100%;
        }

        #map-svg {
            position: relative;
            z-index: 0;
        }

        #map-img {
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            width: 100%;
        }

        #map-element-holder {
            height: 100%;
            position: relative;
            display: flex;
            justify-content: center;
            overflow: hidden;
        }

        #map-ping-panel {
            height: 2px;
            width: 2px;
            position: absolute;
            display: none;
            justify-content: center;
            left: 50px;
            top: 50px;
            transition: left 500ms cubic-bezier(0.45, 0, 0.55, 1),
                top 500ms cubic-bezier(0.45, 0, 0.55, 1);
        }

        #map-ping-panel[active] {
            display: flex;
        }

        #map-ping-content {
            position: absolute;
            width: auto;
            height: auto;
            display: flex;
            flex-direction: column;
            justify-content: stretch;
            align-items: stretch;
            background-color: #001f5c;
            filter: drop-shadow(20px 20px 60px rgba(7, 21, 58, 0.09));
            border-radius: 6px;
            color: #ffffff;
            white-space: nowrap;
            bottom: 16px;
            padding: 12px 16px;
        }

        #map-ping-content [city-label] {
            text-transform: capitalize;
        }

        #map__ping-main {
            display: flex;
            align-items: center;
            gap: 8px;
            padding-bottom: 12px;
            border-bottom: 1px solid #ffffff20;
        }

        #map__ping-main>svg {
            width: 9px;
            height: 41px;
        }

        #map-ping-button {
            position: absolute;
            background: #001f5c;
            transform: translateX(-50%) rotate(-45deg);
            width: 16px;
            height: 16px;
            bottom: -8px;
            left: 50%;
        }

        #map__ping-city-wrapper {
            flex: 1 0 auto;
            font-weight: 400;
            font-size: 14px;
            line-height: 1.71;
        }

        #map__ping-city-wrapper>div:first-child {
            margin-bottom: 8px;
        }

        .map__ping-city {
            display: flex;
            align-items: center;
            gap: 12px;
        }

        .map__ping-city-link {
            padding-right: 18px;
            font-size: 14px;
            line-height: 20px;
            font-weight: 600;
            background-image: url('https://ledc.kholab.co/wp-content/themes/twentytwentyone/assets/images/chevron-right.svg');
            background-repeat: no-repeat;
            background-position: right center;
            text-decoration: none;
            color: #0097CE;
        }

        .map__ping-city-link:hover {
            text-decoration: underline;
        }

        #map-ping-panel-ping {
            font-size: 24px;
            line-height: 1.33;
            font-weight: 500;
            color: #34C759;
            font-family: 'Futura', 'Poppins', sans-serif;
        }

        #map__ping-mid {
            padding: 16px;
            border-top: solid;
            border-bottom: solid;
            border-width: 1px;
            border-color: #ffffff10;
        }

        #map__ping-mid-btn-wrapper {
            display: flex;
            flex-wrap: nowrap;
            gap: 6px;
        }

        #map__ping-mid-label {
            font-weight: 400;
            font-size: 11px;
            line-height: 16px;
            color: #ffffff;
            opacity: 0.5;
            margin-bottom: 8px;
        }

        #map__ping-foot {
            display: flex;
            padding-top: 8px;
            justify-content: space-between;
            align-items: center;
            font-size: 15px;
            line-height: 1.6;
        }

        #map__ping-foot-btn {
            display: flex;
            gap: 8px;
            text-decoration: none;
            color: inherit;
            font-weight: 600;
            font-size: 14px;
            line-height: 20px;
        }

        #map-side-panel-a {}

        #map-side-panel-b {
            background: #ffffff;
            font-style: normal;
            font-weight: 400;
            font-size: 14px;
            line-height: 1.71;
            color: #414144;
            padding-bottom: 24px;

            position: relative;
            overflow: hidden;
        }

        #map-side-panel-b[on] {
            left: 0px;
            top: 0px;
        }

        .map-side-panel__network-container {
            display: flex;
            gap: 20px;
        }

        .map-side-panel__network-wrapper {
            flex: 1 0;
        }

        .map-side-panel__network-top p {
            margin-bottom: 6px;
            text-align: center;
        }

        .map-side-panel__carriers-wrapper {
            display: flex;
            justify-content: space-between;
            gap: 2px;
            max-width: 100%;
        }

        /* .service-container {
	display: grid;
	margin: 16px 0px 8px;
	grid-template-columns: 1fr 1fr 1fr;
	grid-auto-rows: 46px;
	column-gap: 6px;
	row-gap: 8px;
}

.service-container[collapsed] {
	height: 100px;
	overflow: hidden;
}

.service-container-collapse {
	font-size: 12px;
	line-height: 12px;
	text-align: center;
	color: #05a8d0;
	transition: opacity ease 200ms;
	opacity: 0;
	pointer-events: none;
	margin-top: 2px;
	margin-bottom: 0px;
}

.service-container-collapse:hover {
	text-decoration: underline;
}

.service-container-collapse[numCollapsing] {
	opacity: 1;
	pointer-events: all;
	margin-bottom: 10px;
	cursor: pointer;
} */

        .service-item {
            background: #F5F5F5;
            box-sizing: border-box;
            border: none;
            cursor: pointer;
            flex: 0 0 16%;
            transition: box-shadow 0.2s ease-out;
        }

        .service-item div {
            position: relative;
            padding-top: 65%;
        }

        .service-item div img {
            max-width: 97%;
            max-height: 70%;
            top: 50%;
            bottom: 0;
            right: 0;
            left: 50%;
            transform: translate(-50%, -50%);
            position: absolute;
            object-fit: contain;
        }

        .service-item:hover {
            box-shadow: 0px 10px 20px rgba(0, 0, 0, 0.15);
        }

        @keyframes fadein {
            from {
                opacity: 0;
            }

            to {
                opacity: 1;
            }
        }

        .service-item[active] {
            border: 1px solid #05a8d0;
            box-shadow: 0px 4px 10px rgba(41, 62, 64, 0.1);
        }

        .service-item img {
            width: 100%;
            height: 100%;
            object-fit: contain;
        }

        #telco-block {
            background-color: white;
            position: relative;
            z-index: 3;
            padding-top: 20px;
        }

        #telco-separator,
        #telco-separator2 {
            position: relative;
            background-color: white;
            width: 100%;
            z-index: 2;
        }

        #providers-block,
        #net-fabric-block {
            position: relative;
            background-color: white;
            z-index: 1;
            /* min-height: 200px; */
            min-height: 150px;
            padding-bottom: 8px;
        }

        #net-fabric-block {
            min-height: 50px;
        }

        #providers-block[placeholder="on"] #providers-block-content {
            opacity: 0;
        }

        #net-fabric-block[placeholder="on"] #net-fabric-block-content {
            opacity: 0;
        }

        #providers-block-content,
        #net-fabric-block-content {
            background-color: white;
            position: relative;
            z-index: 2;
            /* min-height: 200px; */
            min-height: 150px;
            transition: opacity ease 200ms;
        }

        #net-fabric-block-content {
            min-height: 40px;
        }

        #providers-block-placeholder,
        #net-fabric-block-placeholder {
            position: absolute;
            text-align: center;
            top: 20px;
            width: 100%;
        }

        @media screen and (max-width: 1024px) {
            #map-container {
                grid-template-columns: auto;
                grid-template-rows: auto auto;
                grid-template-areas: "map""panel";
                background-color: transparent;
                border-top: none;
                border-bottom: none;
            }

            #map-side-panel {}

            #map-side-panel h2 {
                font-size: 18px;
            }

            #map-side-panel-a {
                grid-area: selection;
            }

            #map-side-panel-b {
                grid-area: partners;
                left: 0px;
                top: -1000px;
            }

            #map-ping-content {
                font-weight: 600;
                font-size: 14px;
                line-height: 14px;
                padding: 8px 12px 6px 12px;
            }

            #map-ping-panel-ping-holder {
                margin: 0px 12px;
                font-size: 12px;
                line-height: 12px;
            }

            #map-element {}

            #map-element-holder {}

        }


        @media screen and (max-width: 991px) {
            .container {
                padding-right: 31px;
                padding-left: 31px;
            }
        }

        @media screen and (max-width: 767px) {
            .container {
                padding-right: 5.33vw;
                padding-left: 5.33vw;
            }

            #map-element-holder {}

            #map-element-label {
                font-size: 12px;
                line-height: 18px;
            }

            .label-marker {
                width: 16px;
                height: 16px;
            }

            .label-seperator {
                margin: 0 8px;
            }

            .m-hide {
                display: none;
            }

            #city-selection-container {
                flex-direction: column;
                gap: 8px;
            }

            #map-side-panel {
                transform: translateY(-148px);
            }
        }

        @media screen and (max-width: 478px) {}
    </style>
    <div id="map-container">
        <div id="map-wrapper">
            <div id="map-side-panel">
                <div id="map-side-panel-a">
                    <button id="city-selection-expand" onclick="expandMenu()">
                        <div class="expand-icon"></div>
                    </button>
                    <div id="city-selection-container" class="container">
                        <div id="city-select-start" class="city-select">
                            <select>
                                <option value="">Select Data Center</option>
                                <option value="albury">Albury</option>
                                <option value="dubbo">Dubbo</option>
                                <option value="newcastle">Newcastle</option>
                                <option value="tamworth">Tamworth</option>
                            </select>
                        </div>
                        <div id="city-select-end" class="city-select" disabled>
                            <select disabled>
                                <option value="">Select Data Center</option>
                                <option value="albury">Albury</option>
                                <option value="dubbo">Dubbo</option>
                                <option value="newcastle">Newcastle</option>
                                <option value="tamworth">Tamworth</option>
                            </select>
                        </div>
                    </div>
                    <!-- <div id="city-destination-details" off>
                                <div class="city-select-mini-label">Ping/latency</div>
                                <div id="ping-display">158ms</div>
                            </div> -->
                </div>
                <div id="map-side-panel-b">
                    <div class="map-side-panel__network-container container">
                        <div class="map-side-panel__network-wrapper">
                            <div class="map-side-panel__network-top">
                                <p>Carriers/Network Aggrigators</p>
                                <div class="map-side-panel__carriers-wrapper">
                                    <button class="service-item" network-partner="cm">
                                        <div>
                                            <img src="https://ledc.kholab.co/wp-content/themes/twentytwentyone/assets/images/providers/Life is on logo.png"
                                                loading="lazy" alt="">
                                        </div>
                                    </button>
                                    <button class="service-item" network-partner="cm">
                                        <div>
                                            <img src="https://ledc.kholab.co/wp-content/themes/twentytwentyone/assets/images/nbn.png"
                                                loading="lazy" alt="">
                                        </div>
                                    </button>
                                    <button class="service-item" network-partner="cm">
                                        <div>
                                            <img src="https://ledc.kholab.co/wp-content/themes/twentytwentyone/assets/images/tpg.png"
                                                loading="lazy" alt="">
                                        </div>
                                    </button>
                                    <button class="service-item" network-partner="cm">
                                        <div>
                                            <img src="https://ledc.kholab.co/wp-content/themes/twentytwentyone/assets/images/lumea.png"
                                                loading="lazy" alt="">
                                        </div>
                                    </button>
                                    <button class="service-item" network-partner="cm">
                                        <div>
                                            <img src="https://ledc.kholab.co/wp-content/themes/twentytwentyone/assets/images/Telstra.png"
                                                loading="lazy" alt="">
                                        </div>
                                    </button>
                                    <button class="service-item" network-partner="cm">
                                        <div>
                                            <img src="https://ledc.kholab.co/wp-content/themes/twentytwentyone/assets/images/ausgrid-logo.png"
                                                loading="lazy" alt="">
                                        </div>
                                    </button>
                                </div>
                            </div>
                        </div>
                        <div class="map-side-panel__network-wrapper">
                            <div class="map-side-panel__network-top">
                                <p>Carriers/Network Aggrigators</p>
                                <div class="map-side-panel__carriers-wrapper">
                                    <button class="service-item" network-partner="cm">
                                        <div>
                                            <img src="https://ledc.kholab.co/wp-content/themes/twentytwentyone/assets/images/Life is on logo.png"
                                                loading="lazy" alt="">
                                        </div>
                                    </button>
                                    <button class="service-item" network-partner="cm">
                                        <div>
                                            <img src="https://ledc.kholab.co/wp-content/themes/twentytwentyone/assets/images/nbn.png"
                                                loading="lazy" alt="">
                                        </div>
                                    </button>
                                    <button class="service-item" network-partner="cm">
                                        <div>
                                            <img src="https://ledc.kholab.co/wp-content/themes/twentytwentyone/assets/images/tpg.png"
                                                loading="lazy" alt="">
                                        </div>
                                    </button>
                                    <button class="service-item" network-partner="cm">
                                        <div>
                                            <img src="https://ledc.kholab.co/wp-content/themes/twentytwentyone/assets/images/lumea.png"
                                                loading="lazy" alt="">
                                        </div>
                                    </button>
                                    <button class="service-item" network-partner="cm">
                                        <div>
                                            <img src="https://ledc.kholab.co/wp-content/themes/twentytwentyone/assets/images/Telstra.png"
                                                loading="lazy" alt="">
                                        </div>
                                    </button>
                                    <button class="service-item" network-partner="cm">
                                        <div>
                                            <img src="https://ledc.kholab.co/wp-content/themes/twentytwentyone/assets/images/ausgrid-logo.png"
                                                loading="lazy" alt="">
                                        </div>
                                    </button>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
            <div id="map-element-holder">
                <div id="map-element">
                    <script>

                        var handleMapClick = (event) => {
                            if (selectEnd.value) {
                                selectEnd.value = '';
                                closeDestination();
                            } else if (selectStart.value) {
                                selectStart.value = '';
                                closeSelection();
                            }
                        }

                        var handleCityClick = (event) => {
                            event.stopPropagation();
                            if (event.currentTarget.hasAttribute('dc')) {
                                if (selectStart.value === event.currentTarget.id) {
                                    selectStart.value = '';
                                    closeSelection();
                                } else {
                                    selectStart.value = event.currentTarget.id;
                                    showSelection(event.currentTarget.id);
                                }
                            } else {
                                selectEnd.value = event.currentTarget.id;
                                selectDestination(event.currentTarget.id);
                            }
                        }
                    </script>
                    <embed src="https://ledc.kholab.co/wp-content/themes/twentytwentyone/assets/images/Map.svg"
                        alt="Map of Australia" id="map-img"></embed>
                    <svg onclick="handleMapClick(event)" xmlns="http://www.w3.org/2000/svg" id="map-svg"
                        viewBox="0 0 1440 784" fill="none">
                        <style>
                            [city-lines] path {
                                opacity: 0.3;
                                pointer-events: none;
                                stroke: #83ADFF;
                                transition: all 0.2s ease-out;
                            }

                            [city-lines] path[on] {
                                opacity: 1;
                                stroke-dasharray: 1200;
                                stroke-dashoffset: 1200;
                                animation: dash 2000ms linear forwards;
                            }

                            [city-lines] path[on][selected] {
                                stroke-dasharray: 1200;
                                stroke-dashoffset: 1200;
                                animation: dash 2000ms linear forwards;
                                opacity: 1;
                                stroke: #001F5C;
                            }

                            @keyframes dash {
                                to {
                                    stroke-dashoffset: 0;
                                }
                            }

                            .city-group {
                                opacity: 1;
                                transition: opacity 200ms ease;
                                pointer-events: none;
                            }

                            .city-group[on] {
                                opacity: 1;
                                cursor: pointer;
                                pointer-events: all;
                            }

                            .city-group [pulse] {
                                opacity: 0;
                            }

                            .city-group[dc] {
                                opacity: 1;
                                cursor: pointer;
                                pointer-events: all;
                            }

                            .city-group[dc][on] [pulse] {
                                opacity: 1;
                            }

                            .city-group ellipse[identifier] {
                                fill: #34C759;
                            }

                            .city-group[dc][on] ellipse[identifier] {
                                fill: #001F5C;
                            }

                            .city-group[soon] ellipse[identifier] {
                                fill: #FF9500;
                            }

                            [city-lines] path[invisible] {
                                opacity: 0;
                                stroke: transparent;
                            }

                            .city-name {
                                font: Metropolis, sans-serif;
                                font-weight: 400;
                                font-size: 9px;
                                line-height: 14px;
                                fill: #00005C;
                            }
                        </style>
                        <g city-lines>
                            <path dc="albury" city="nowra" d="M827,571 C850.65,550.58 883.15,541.67 917.9,547.4" />
                            <path dc="albury" city="waggaWagga" d="M827 571C825.83 556 829.67 548 838.5,547" />
                            <path dc="albury" city="traralgon" d="M827,571 C838.5,583.63 842.3,605.67 821,625.4" />
                            <path dc="albury" city="shepparton" d="M827 571C807.3 564 792.6 564 782.9,571" />
                            <path dc="dubbo" city="tamworth" d="M876.6,468 C872.52,439.67 913.58,411.88 938,425" />
                            <path dc="dubbo" city="bathurst" d="M876.6,468 C893.15,468.13 903.95,479.62 903,496.6" />
                            <path dc="dubbo" city="sydneyNextDc"
                                d="M876.6,468 C874.58,504.88 899.77,513.87 935.5,513.7" />
                            <path dc="dubbo" city="waggaWagga" d="M876.6 468C858.9 487.33 846.2 513.67 838.5,547" />
                            <path dc="newcastle" city="tamworth" d="M946.4,486 C950.8,471.32 962,432.73 938,425" />
                            <path dc="newcastle" city="coffsHabour"
                                d="M946.4,486 C963.83,465.77 976.92,430.18 981,410.6" />
                            <path dc="newcastle" city="bathurst" d="M946.4 486C926.93 482.53 912.47 486.07 903,496.6" />
                            <path dc="newcastle" city="sydneyEquinix"
                                d="M946.4 486C938.47 484.83 935.53 490.67 937.6,503.5" />
                            <path dc="tamworth" city="dubbo" d="M938,425 C902.53,414.88 881.32,435.32 876.6,468" />
                            <path dc="tamworth" city="newcastle" d="M938,425 C957,433.03 956.05,453.82 946.4,486" />
                            <path dc="tamworth" city="brisbaneNextDc"
                                d="M938,425 C925.12,396.33 950.18,363.77 976,351" />
                            <path dc="tamworth" city="coffsHabour" d="M938 425C947.33 413.2 961.67 408.4 981,410.6" />
                            <path dc="tamworth" city="bathurst" d="M938 425C921.33 441.87 909.67 465.73 903,496.6" />
                            <path dc="cairns" city="bundaberg" d="M816.6,97 C913.22,132.8 960.68,208.1 956.6,286" />
                            <path dc="cairns" city="brisbaneNextDc"
                                d="M816.6,97 C834.73,205.32 893.77,313.03 976,351" />
                            <path dc="bundaberg" city="cairns" d="M956.6,286 C959.28,191.45 890.37,120.85 816.6,97" />
                            <path dc="bundaberg" city="brisbaneNextDc"
                                d="M956.6,286 C975.37,299.42 978.53,325.63 976,351" />
                            <path dc="brisbaneNextDc" city="tamworth"
                                d="M976,351 C943.93,369.42 927.47,396.78 938,425" />
                            <path dc="brisbaneNextDc" city="cairns"
                                d="M976,351 C890.07,308.83 832.18,199.42 816.6,97" />
                            <path dc="brisbaneNextDc" city="bundaberg"
                                d="M976,351 C980.08,321.63 972.62,298.77 956.6,286" />
                            <path dc="brisbaneNextDc" city="coffsHabour"
                                d="M976 351C972.67 363.87 974.33 383.73 981,410.6" />
                            <path dc="coffsHabour" city="newcastle"
                                d="M981,410.6 C977.02,429.03 966.93,460.77 946.4,486" />
                            <path dc="coffsHabour" city="tamworth" d="M981 410.6C961.67 408.4 947.33 413.2 938,425" />
                            <path dc="coffsHabour" city="brisbaneNextDc"
                                d="M981 410.6C974.33 383.73 972.67 363.87 976,351" />
                            <path dc="bathurst" city="dubbo" d="M903,496.6 C903.05,472.12 881.65,464.88 876.6,468" />
                            <path dc="bathurst" city="newcastle" d="M903 496.6C912.47 486.07 926.93 482.53 946.4,486" />
                            <path dc="bathurst" city="tamworth" d="M903 496.6C909.67 465.73 921.33 441.87 938,425" />
                            <path dc="sydneyEquinix" city="newcastle"
                                d="M937.6 503.5C935.53 490.67 938.47 484.83 946.4,486" />
                            <path dc="sydneyEquinix" city="sydneyNextDc"
                                d="M937.6 503.5C931.9 499.9 931.2 503.3 935.5,513.7" />
                            <path dc="sydneyEquinix" city="nowra"
                                d="M937.6,503.5 C937.53,518.33 928.47,536.77 917.9,547.4" />
                            <path dc="sydneyNextDc" city="dubbo"
                                d="M935.5,513.7 C889.17,516.97 874.53,494.28 876.6,468" />
                            <path dc="sydneyNextDc" city="sydneyEquinix"
                                d="M935.5 513.7C931.2 503.3 931.9 499.9 937.6,503.5" />
                            <path dc="sydneyNextDc" city="nowra"
                                d="M935.5 513.7C924.63 517.93 918.77 529.17 917.9,547.4" />
                            <path dc="sydneyNextDc" city="waggaWagga"
                                d="M935.5 513.7C898.17 517.8 865.83 528.9 838.5,547" />
                            <path dc="nowra" city="albury" d="M917.9,547.4 C885.7,542.27 851.35,550.58 827,571" />
                            <path dc="nowra" city="sydneyEquinix"
                                d="M917.9,547.4 C935.02,528.47 934.33,514.18 937.6,503.5" />
                            <path dc="nowra" city="sydneyNextDc"
                                d="M917.9 547.4C918.77 529.17 924.63 517.93 935.5,513.7" />
                            <path dc="nowra" city="waggaWagga" d="M917.9 547.4C886.43 540.27 859.97 540.13 838.5,547" />
                            <path dc="nowra" city="traralgon" d="M917.9,547.4 C917.1,583.35 882.4,617.8 821,625.4" />
                            <path dc="waggaWagga" city="albury" d="M838.5 547C829.67 548 825.83 556 827,571" />
                            <path dc="waggaWagga" city="dubbo" d="M838.5 547C846.2 513.67 858.9 487.33 876.6,468" />
                            <path dc="waggaWagga" city="sydneyNextDc"
                                d="M838.5 547C865.83 528.9 898.17 517.8 935.5,513.7" />
                            <path dc="waggaWagga" city="nowra" d="M838.5 547C859.97 540.13 886.43 540.27 917.9,547.4" />
                            <path dc="waggaWagga" city="mildura" d="M838.5,547 C802.22,510 758.33,502.15 731,521.5" />
                            <path dc="traralgon" city="albury" d="M821,625.4 C842.95,601.52 838.9,583.98 827,571" />
                            <path dc="traralgon" city="nowra" d="M821,625.4 C876.6,622.8 919.45,583.35 917.9,547.4" />
                            <path dc="traralgon" city="melbourne" d="M821 625.4C807.2 615.93 798.4 613.47 794.6,618" />
                            <path dc="traralgon" city="shepparton"
                                d="M821,625.4 C817.75,599.57 801.5,582.43 782.9,571" />
                            <path dc="melbourne" city="traralgon" d="M794.6 618C798.4 613.47 807.2 615.93 821,625.4" />
                            <path dc="melbourne" city="bendigo" d="M794.6,618 C801.8,602.67 785.6,600.08 785,596" />
                            <path dc="melbourne" city="geelong"
                                d="M794.6 618C785.23 614.47 780.87 617.93 781.5,628.4" />
                            <path dc="bendigo" city="melbourne" d="M785,596 C787.8,599.28 799.85,602.47 794.6,618" />
                            <path dc="bendigo" city="shepparton" d="M785,596 C793.2,580.92 782.1,572.48 782.9,571" />
                            <path dc="bendigo" city="geelong" d="M785 596C778.83 599.8 777.67 610.6 781.5,628.4" />
                            <path dc="bendigo" city="ballarat" d="M785 596C774.43 594.43 768.87 599.87 768.3,612.3" />
                            <path dc="bendigo" city="horsham" d="M785 596C763.93 587.33 747.87 585.67 736.8,591" />
                            <path dc="bendigo" city="mildura" d="M785,596 C785.35,563.82 752,531.13 731,521.5" />
                            <path dc="bendigo" city="adeleide" d="M785,596 C762.27,556.02 690.48,517.88 655.6,539.8" />
                            <path dc="shepparton" city="albury" d="M782.9 571C792.6 564 807.3 564 827,571" />
                            <path dc="shepparton" city="traralgon" d="M782.9,571 C800,581.78 817.05,597.72 821,625.4" />
                            <path dc="shepparton" city="bendigo" d="M782.9,571 C785.55,575.53 792.1,581.72 785,596" />
                            <path dc="shepparton" city="mildura" d="M782.9,571 C785.6,541.95 771.25,517.3 731,521.5" />
                            <path dc="geelong" city="melbourne"
                                d="M781.5 628.4C780.87 617.93 785.23 614.47 794.6,618" />
                            <path dc="geelong" city="bendigo" d="M781.5 628.4C777.67 610.6 778.83 599.8 785,596" />
                            <path dc="geelong" city="ballarat" d="M781.5 628.4C772.1 616.03 767.7 610.67 768.3,612.3" />
                            <path dc="ballarat" city="bendigo" d="M768.3 612.3C768.87 599.87 774.43 594.43 785,596" />
                            <path dc="ballarat" city="geelong" d="M768.3 612.3C767.7 610.67 772.1 616.03 781.5,628.4" />
                            <path dc="ballarat" city="horsham" d="M768.3,612.3 C748.7,613.95 740.5,594.9 736.8,591" />
                            <path dc="horsham" city="bendigo" d="M736.8 591C747.87 585.67 763.93 587.33 785,596" />
                            <path dc="horsham" city="ballarat" d="M736.8,591 C742.1,595.85 744.7,612.7 768.3,612.3" />
                            <path dc="horsham" city="adeleide"
                                d="M736.8,591 C700.73,583.93 676.42,567.57 655.6,539.8" />
                            <path dc="mildura" city="waggaWagga"
                                d="M731,521.5 C771.88,497.65 812.67,521.45 838.5,547" />
                            <path dc="mildura" city="bendigo" d="M731,521.5 C762.75,541.48 781.35,561.57 785,596" />
                            <path dc="mildura" city="shepparton" d="M731,521.5 C766.7,517.25 788.05,539.2 782.9,571" />
                            <path dc="mildura" city="adeleide" d="M731 521.5C700.87 520.6 675.73 526.7 655.6,539.8" />
                            <path dc="adeleide" city="bendigo" d="M655.6,539.8 C684.58,522.03 751.42,543.97 785,596" />
                            <path dc="adeleide" city="horsham"
                                d="M655.6,539.8 C671.87,562.97 696.63,584.13 736.8,591" />
                            <path dc="adeleide" city="mildura" d="M655.6 539.8C675.73 526.7 700.87 520.6 731,521.5" />
                        </g>

                        <g id="albury" class="city-group" dc onclick="handleCityClick(event)">
                            <ellipse pulse cx="827" cy="571" rx="16" ry="16" fill="url('#pulseFill')" restart="always">
                                <animate attributeName="rx" values="6.5;16;6.5" dur="1.6s" repeatCount="indefinite"
                                    keyTimes="0;0.5;1" keySplines="0.61, 1, 0.88, 1; 0.12, 0, 0.39, 0" />
                                <animate attributeName="ry" values="6.5;16;6.5" dur="1.6s" repeatCount="indefinite"
                                    keyTimes="0;0.5;1" keySplines="0.61, 1, 0.88, 1; 0.12, 0, 0.39, 0" />
                            </ellipse>
                            <ellipse cx="827" cy="571" rx="7" ry="7" fill="white" />
                            <ellipse cx="827" cy="571" rx="5" ry="5" identifier />
                            <text x="814.715" y="591" class="city-name">Albury</text>
                        </g>

                        <g id="dubbo" class="city-group" dc onclick="handleCityClick(event)">
                            <ellipse pulse cx="876.6" cy="468" rx="16" ry="16" fill="url('#pulseFill')"
                                restart="always">
                                <animate attributeName="rx" values="6.5;16;6.5" dur="1.6s" repeatCount="indefinite"
                                    keyTimes="0;0.5;1" keySplines="0.61, 1, 0.88, 1; 0.12, 0, 0.39, 0" />
                                <animate attributeName="ry" values="6.5;16;6.5" dur="1.6s" repeatCount="indefinite"
                                    keyTimes="0;0.5;1" keySplines="0.61, 1, 0.88, 1; 0.12, 0, 0.39, 0" />
                            </ellipse>
                            <ellipse cx="876.6" cy="468" rx="7" ry="7" fill="white" />
                            <ellipse cx="876.6" cy="468" rx="5" ry="5" identifier />
                            <text x="864" y="488" class="city-name">Dubbo</text>
                        </g>

                        <g id="newcastle" class="city-group" dc onclick="handleCityClick(event)">
                            <ellipse pulse cx="946.4" cy="486" rx="16" ry="16" fill="url('#pulseFill')"
                                restart="always">
                                <animate attributeName="rx" values="6.5;16;6.5" dur="1.6s" repeatCount="indefinite"
                                    keyTimes="0;0.5;1" keySplines="0.61, 1, 0.88, 1; 0.12, 0, 0.39, 0" />
                                <animate attributeName="ry" values="6.5;16;6.5" dur="1.6s" repeatCount="indefinite"
                                    keyTimes="0;0.5;1" keySplines="0.61, 1, 0.88, 1; 0.12, 0, 0.39, 0" />
                            </ellipse>
                            <ellipse cx="946.4" cy="486" rx="7" ry="7" fill="white" />
                            <ellipse cx="946.4" cy="486" rx="5" ry="5" identifier />
                            <text x="955.4" y="489" class="city-name">Newcastle</text>
                        </g>

                        <g id="tamworth" class="city-group" dc onclick="handleCityClick(event)">
                            <ellipse pulse cx="938" cy="425" rx="16" ry="16" fill="url('#pulseFill')" restart="always">
                                <animate attributeName="rx" values="6.5;16;6.5" dur="1.6s" repeatCount="indefinite"
                                    keyTimes="0;0.5;1" keySplines="0.61, 1, 0.88, 1; 0.12, 0, 0.39, 0" />
                                <animate attributeName="ry" values="6.5;16;6.5" dur="1.6s" repeatCount="indefinite"
                                    keyTimes="0;0.5;1" keySplines="0.61, 1, 0.88, 1; 0.12, 0, 0.39, 0" />
                            </ellipse>
                            <ellipse cx="938" cy="425" rx="7" ry="7" fill="white" />
                            <ellipse cx="938" cy="425" rx="5" ry="5" identifier />
                            <text x="914.46" y="445" class="city-name">Tamworth</text>
                        </g>

                        <g id="cairns" class="city-group" soon>

                            <ellipse cx="816.6" cy="97" rx="7" ry="7" fill="white" />
                            <ellipse cx="816.6" cy="97" rx="5" ry="5" identifier />
                            <text x="804.585" y="117" class="city-name">Cairns</text>
                        </g>

                        <g id="bundaberg" class="city-group" soon>

                            <ellipse cx="956.6" cy="286" rx="7" ry="7" fill="white" />
                            <ellipse cx="956.6" cy="286" rx="5" ry="5" identifier />
                            <text x="934.955" y="306" class="city-name">Bundaberg</text>
                        </g>

                        <g id="brisbaneNextDc" class="city-group" soon>

                            <ellipse cx="976" cy="351" rx="7" ry="7" fill="white" />
                            <ellipse cx="976" cy="351" rx="5" ry="5" identifier />
                            <text x="943.915" y="371" class="city-name">Brisbane - NextDC</text>
                        </g>

                        <g id="coffsHabour" class="city-group" soon>

                            <ellipse cx="981" cy="410.6" rx="7" ry="7" fill="white" />
                            <ellipse cx="981" cy="410.6" rx="5" ry="5" identifier />
                            <text x="990" y="413.6" class="city-name">Coffs Habour</text>
                        </g>

                        <g id="bathurst" class="city-group" soon>

                            <ellipse cx="903" cy="496.6" rx="7" ry="7" fill="white" />
                            <ellipse cx="903" cy="496.6" rx="5" ry="5" identifier />
                            <text x="886.665" y="516.6" class="city-name">Bathurst</text>
                        </g>

                        <g id="sydneyEquinix" class="city-group" soon>

                            <ellipse cx="937.6" cy="503.5" rx="7" ry="7" fill="white" />
                            <ellipse cx="937.6" cy="503.5" rx="5" ry="5" identifier />
                            <text x="946.6" y="506.5" class="city-name">Sydney - Equinix</text>
                        </g>

                        <g id="sydneyNextDc" class="city-group" soon>

                            <ellipse cx="935.5" cy="513.7" rx="7" ry="7" fill="white" />
                            <ellipse cx="935.5" cy="513.7" rx="5" ry="5" identifier />
                            <text x="944.5" y="516.7" class="city-name">Sydney - NextDC</text>
                        </g>

                        <g id="nowra" class="city-group" soon>

                            <ellipse cx="917.9" cy="547.4" rx="7" ry="7" fill="white" />
                            <ellipse cx="917.9" cy="547.4" rx="5" ry="5" identifier />
                            <text x="926.9" y="550.4" class="city-name">Nowra</text>
                        </g>

                        <g id="waggaWagga" class="city-group" soon>

                            <ellipse cx="838.5" cy="547" rx="7" ry="7" fill="white" />
                            <ellipse cx="838.5" cy="547" rx="5" ry="5" identifier />
                            <text x="810.87" y="567" class="city-name">Wagga Wagga</text>
                        </g>

                        <g id="traralgon" class="city-group" soon>

                            <ellipse cx="821" cy="625.4" rx="7" ry="7" fill="white" />
                            <ellipse cx="821" cy="625.4" rx="5" ry="5" identifier />
                            <text x="803.18" y="645.4" class="city-name">Traralgon</text>
                        </g>

                        <g id="melbourne" class="city-group" soon>

                            <ellipse cx="794.6" cy="618" rx="7" ry="7" fill="white" />
                            <ellipse cx="794.6" cy="618" rx="5" ry="5" identifier />
                            <text x="773.27" y="638" class="city-name">Melbourne</text>
                        </g>

                        <g id="bendigo" class="city-group" soon>

                            <ellipse cx="785" cy="596" rx="7" ry="7" fill="white" />
                            <ellipse cx="785" cy="596" rx="5" ry="5" identifier />
                            <text x="768.89" y="616" class="city-name">Bendigo</text>
                        </g>

                        <g id="shepparton" class="city-group" soon>

                            <ellipse cx="782.9" cy="571" rx="7" ry="7" fill="white" />
                            <ellipse cx="782.9" cy="571" rx="5" ry="5" identifier />
                            <text x="760.265" y="591" class="city-name">Shepparton</text>
                        </g>

                        <g id="geelong" class="city-group" soon>

                            <ellipse cx="781.5" cy="628.4" rx="7" ry="7" fill="white" />
                            <ellipse cx="781.5" cy="628.4" rx="5" ry="5" identifier />
                            <text x="765.39" y="648.4" class="city-name">Geelong</text>
                        </g>

                        <g id="ballarat" class="city-group" soon>

                            <ellipse cx="768.3" cy="612.3" rx="7" ry="7" fill="white" />
                            <ellipse cx="768.3" cy="612.3" rx="5" ry="5" identifier />
                            <text x="753.495" y="632.3" class="city-name">Ballarat</text>
                        </g>

                        <g id="horsham" class="city-group" soon>

                            <ellipse cx="736.8" cy="591" rx="7" ry="7" fill="white" />
                            <ellipse cx="736.8" cy="591" rx="5" ry="5" identifier />
                            <text x="719.25" y="611" class="city-name">Horsham</text>
                        </g>

                        <g id="mildura" class="city-group" soon>

                            <ellipse cx="731" cy="521.5" rx="7" ry="7" fill="white" />
                            <ellipse cx="731" cy="521.5" rx="5" ry="5" identifier />
                            <text x="716.24" y="541.5" class="city-name">Mildura</text>
                        </g>

                        <g id="adeleide" class="city-group" soon>

                            <ellipse cx="655.6" cy="539.8" rx="7" ry="7" fill="white" />
                            <ellipse cx="655.6" cy="539.8" rx="5" ry="5" identifier />
                            <text x="638.5" y="559.8" class="city-name">Adeleide</text>
                        </g>

                        <defs>
                            <radialGradient id="pulseFill">
                                <stop offset="0.35" stop-color="#A5FFFF" />
                                <stop offset="1" stop-color="#A5FFFF" stop-opacity="0" />
                            </radialGradient>
                            <filter id="filter0_d" x="510.803" y="37.9297" width="430.779" height="277.135"
                                filterUnits="userSpaceOnUse" color-interpolation-filters="sRGB">
                                <feFlood flood-opacity="0" result="BackgroundImageFix" />
                                <feColorMatrix in="SourceAlpha" type="matrix"
                                    values="0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 127 0" />
                                <feOffset />
                                <feGaussianBlur stdDeviation="4" />
                                <feColorMatrix type="matrix"
                                    values="0 0 0 0 0.847059 0 0 0 0 0.917647 0 0 0 0 0.917647 0 0 0 1 0" />
                                <feBlend mode="normal" in2="BackgroundImageFix" result="effect1_dropShadow" />
                                <feBlend mode="normal" in="SourceGraphic" in2="effect1_dropShadow" result="shape" />
                            </filter>
                            <filter id="filter1_d" x="516.515" y="91.7056" width="436.143" height="155.511"
                                filterUnits="userSpaceOnUse" color-interpolation-filters="sRGB">
                                <feFlood flood-opacity="0" result="BackgroundImageFix" />
                                <feColorMatrix in="SourceAlpha" type="matrix"
                                    values="0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 127 0" />
                                <feOffset />
                                <feGaussianBlur stdDeviation="4" />
                                <feColorMatrix type="matrix"
                                    values="0 0 0 0 0.847059 0 0 0 0 0.917647 0 0 0 0 0.917647 0 0 0 1 0" />
                                <feBlend mode="normal" in2="BackgroundImageFix" result="effect1_dropShadow" />
                                <feBlend mode="normal" in="SourceGraphic" in2="effect1_dropShadow" result="shape" />
                            </filter>
                            <filter id="filter2_d" x="515.228" y="73.3335" width="422.953" height="160.121"
                                filterUnits="userSpaceOnUse" color-interpolation-filters="sRGB">
                                <feFlood flood-opacity="0" result="BackgroundImageFix" />
                                <feColorMatrix in="SourceAlpha" type="matrix"
                                    values="0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 127 0" />
                                <feOffset />
                                <feGaussianBlur stdDeviation="4" />
                                <feColorMatrix type="matrix"
                                    values="0 0 0 0 0.847059 0 0 0 0 0.917647 0 0 0 0 0.917647 0 0 0 1 0" />
                                <feBlend mode="normal" in2="BackgroundImageFix" result="effect1_dropShadow" />
                                <feBlend mode="normal" in="SourceGraphic" in2="effect1_dropShadow" result="shape" />
                            </filter>
                            <filter id="filter3_d" x="539.166" y="117.454" width="397.846" height="115.501"
                                filterUnits="userSpaceOnUse" color-interpolation-filters="sRGB">
                                <feFlood flood-opacity="0" result="BackgroundImageFix" />
                                <feColorMatrix in="SourceAlpha" type="matrix"
                                    values="0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 127 0" />
                                <feOffset />
                                <feGaussianBlur stdDeviation="4" />
                                <feColorMatrix type="matrix"
                                    values="0 0 0 0 0.847059 0 0 0 0 0.917647 0 0 0 0 0.917647 0 0 0 1 0" />
                                <feBlend mode="normal" in2="BackgroundImageFix" result="effect1_dropShadow" />
                                <feBlend mode="normal" in="SourceGraphic" in2="effect1_dropShadow" result="shape" />
                            </filter>
                            <filter id="filter4_d" x="111.88" y="170.611" width="825.97" height="140.106"
                                filterUnits="userSpaceOnUse" color-interpolation-filters="sRGB">
                                <feFlood flood-opacity="0" result="BackgroundImageFix" />
                                <feColorMatrix in="SourceAlpha" type="matrix"
                                    values="0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 127 0" />
                                <feOffset />
                                <feGaussianBlur stdDeviation="4" />
                                <feColorMatrix type="matrix"
                                    values="0 0 0 0 0.847059 0 0 0 0 0.917647 0 0 0 0 0.917647 0 0 0 1 0" />
                                <feBlend mode="normal" in2="BackgroundImageFix" result="effect1_dropShadow" />
                                <feBlend mode="normal" in="SourceGraphic" in2="effect1_dropShadow" result="shape" />
                            </filter>
                            <filter id="filter5_d" x="122.943" y="152.314" width="815.744" height="129.37"
                                filterUnits="userSpaceOnUse" color-interpolation-filters="sRGB">
                                <feFlood flood-opacity="0" result="BackgroundImageFix" />
                                <feColorMatrix in="SourceAlpha" type="matrix"
                                    values="0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 127 0" />
                                <feOffset />
                                <feGaussianBlur stdDeviation="4" />
                                <feColorMatrix type="matrix"
                                    values="0 0 0 0 0.847059 0 0 0 0 0.917647 0 0 0 0 0.917647 0 0 0 1 0" />
                                <feBlend mode="normal" in2="BackgroundImageFix" result="effect1_dropShadow" />
                                <feBlend mode="normal" in="SourceGraphic" in2="effect1_dropShadow" result="shape" />
                            </filter>
                            <filter id="filter6_d" x="264.449" y="175.621" width="673.876" height="115.687"
                                filterUnits="userSpaceOnUse" color-interpolation-filters="sRGB">
                                <feFlood flood-opacity="0" result="BackgroundImageFix" />
                                <feColorMatrix in="SourceAlpha" type="matrix"
                                    values="0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 127 0" />
                                <feOffset />
                                <feGaussianBlur stdDeviation="4" />
                                <feColorMatrix type="matrix"
                                    values="0 0 0 0 0.847059 0 0 0 0 0.917647 0 0 0 0 0.917647 0 0 0 1 0" />
                                <feBlend mode="normal" in2="BackgroundImageFix" result="effect1_dropShadow" />
                                <feBlend mode="normal" in="SourceGraphic" in2="effect1_dropShadow" result="shape" />
                            </filter>
                            <filter id="filter7_d" x="232.294" y="157.289" width="704.4" height="108.924"
                                filterUnits="userSpaceOnUse" color-interpolation-filters="sRGB">
                                <feFlood flood-opacity="0" result="BackgroundImageFix" />
                                <feColorMatrix in="SourceAlpha" type="matrix"
                                    values="0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 127 0" />
                                <feOffset />
                                <feGaussianBlur stdDeviation="4" />
                                <feColorMatrix type="matrix"
                                    values="0 0 0 0 0.847059 0 0 0 0 0.917647 0 0 0 0 0.917647 0 0 0 1 0" />
                                <feBlend mode="normal" in2="BackgroundImageFix" result="effect1_dropShadow" />
                                <feBlend mode="normal" in="SourceGraphic" in2="effect1_dropShadow" result="shape" />
                            </filter>
                            <filter id="filter8_d" x="515.241" y="108.346" width="425.844" height="103.305"
                                filterUnits="userSpaceOnUse" color-interpolation-filters="sRGB">
                                <feFlood flood-opacity="0" result="BackgroundImageFix" />
                                <feColorMatrix in="SourceAlpha" type="matrix"
                                    values="0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 127 0" />
                                <feOffset />
                                <feGaussianBlur stdDeviation="4" />
                                <feColorMatrix type="matrix"
                                    values="0 0 0 0 0.847059 0 0 0 0 0.917647 0 0 0 0 0.917647 0 0 0 1 0" />
                                <feBlend mode="normal" in2="BackgroundImageFix" result="effect1_dropShadow" />
                                <feBlend mode="normal" in="SourceGraphic" in2="effect1_dropShadow" result="shape" />
                            </filter>
                            <filter id="filter9_d" x="538.645" y="117.315" width="403.723" height="114.947"
                                filterUnits="userSpaceOnUse" color-interpolation-filters="sRGB">
                                <feFlood flood-opacity="0" result="BackgroundImageFix" />
                                <feColorMatrix in="SourceAlpha" type="matrix"
                                    values="0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 127 0" />
                                <feOffset />
                                <feGaussianBlur stdDeviation="4" />
                                <feColorMatrix type="matrix"
                                    values="0 0 0 0 0.847059 0 0 0 0 0.917647 0 0 0 0 0.917647 0 0 0 1 0" />
                                <feBlend mode="normal" in2="BackgroundImageFix" result="effect1_dropShadow" />
                                <feBlend mode="normal" in="SourceGraphic" in2="effect1_dropShadow" result="shape" />
                            </filter>
                            <filter id="filter10_d" x="265.582" y="173.838" width="678.119" height="109.241"
                                filterUnits="userSpaceOnUse" color-interpolation-filters="sRGB">
                                <feFlood flood-opacity="0" result="BackgroundImageFix" />
                                <feColorMatrix in="SourceAlpha" type="matrix"
                                    values="0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 127 0" />
                                <feOffset />
                                <feGaussianBlur stdDeviation="4" />
                                <feColorMatrix type="matrix"
                                    values="0 0 0 0 0.847059 0 0 0 0 0.917647 0 0 0 0 0.917647 0 0 0 1 0" />
                                <feBlend mode="normal" in2="BackgroundImageFix" result="effect1_dropShadow" />
                                <feBlend mode="normal" in="SourceGraphic" in2="effect1_dropShadow" result="shape" />
                            </filter>
                            <filter id="filter11_d" x="232.864" y="156.566" width="707.969" height="111.952"
                                filterUnits="userSpaceOnUse" color-interpolation-filters="sRGB">
                                <feFlood flood-opacity="0" result="BackgroundImageFix" />
                                <feColorMatrix in="SourceAlpha" type="matrix"
                                    values="0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 127 0" />
                                <feOffset />
                                <feGaussianBlur stdDeviation="4" />
                                <feColorMatrix type="matrix"
                                    values="0 0 0 0 0.847059 0 0 0 0 0.917647 0 0 0 0 0.917647 0 0 0 1 0" />
                                <feBlend mode="normal" in2="BackgroundImageFix" result="effect1_dropShadow" />
                                <feBlend mode="normal" in="SourceGraphic" in2="effect1_dropShadow" result="shape" />
                            </filter>
                            <filter id="filter12_d" x="111.977" y="169.628" width="828.747" height="81.3457"
                                filterUnits="userSpaceOnUse" color-interpolation-filters="sRGB">
                                <feFlood flood-opacity="0" result="BackgroundImageFix" />
                                <feColorMatrix in="SourceAlpha" type="matrix"
                                    values="0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 127 0" />
                                <feOffset />
                                <feGaussianBlur stdDeviation="4" />
                                <feColorMatrix type="matrix"
                                    values="0 0 0 0 0.847059 0 0 0 0 0.917647 0 0 0 0 0.917647 0 0 0 1 0" />
                                <feBlend mode="normal" in2="BackgroundImageFix" result="effect1_dropShadow" />
                                <feBlend mode="normal" in="SourceGraphic" in2="effect1_dropShadow" result="shape" />
                            </filter>
                            <filter id="filter13_d" x="123.047" y="150.233" width="817.602" height="80.6919"
                                filterUnits="userSpaceOnUse" color-interpolation-filters="sRGB">
                                <feFlood flood-opacity="0" result="BackgroundImageFix" />
                                <feColorMatrix in="SourceAlpha" type="matrix"
                                    values="0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 127 0" />
                                <feOffset />
                                <feGaussianBlur stdDeviation="4" />
                                <feColorMatrix type="matrix"
                                    values="0 0 0 0 0.847059 0 0 0 0 0.917647 0 0 0 0 0.917647 0 0 0 1 0" />
                                <feBlend mode="normal" in2="BackgroundImageFix" result="effect1_dropShadow" />
                                <feBlend mode="normal" in="SourceGraphic" in2="effect1_dropShadow" result="shape" />
                            </filter>
                            <filter id="filter14_d" x="509.846" y="124.858" width="430.953" height="86.3907"
                                filterUnits="userSpaceOnUse" color-interpolation-filters="sRGB">
                                <feFlood flood-opacity="0" result="BackgroundImageFix" />
                                <feColorMatrix in="SourceAlpha" type="matrix"
                                    values="0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 127 0" />
                                <feOffset />
                                <feGaussianBlur stdDeviation="4" />
                                <feColorMatrix type="matrix"
                                    values="0 0 0 0 0.847059 0 0 0 0 0.917647 0 0 0 0 0.917647 0 0 0 1 0" />
                                <feBlend mode="normal" in2="BackgroundImageFix" result="effect1_dropShadow" />
                                <feBlend mode="normal" in="SourceGraphic" in2="effect1_dropShadow" result="shape" />
                            </filter>
                        </defs>
                    </svg>
                    <div id="map-ping-panel">
                        <div id="map-ping-content">
                            <div id="map__ping-main">
                                <svg width="9" height="41" viewBox="0 0 9 41" fill="none"
                                    xmlns="http://www.w3.org/2000/svg">
                                    <circle cx="4.5" cy="5" r="1.5" transform="rotate(-180 4.5 5)" fill="#FFFFFF" />
                                    <circle cx="4.5" cy="5" r="4" transform="rotate(-180 4.5 5)" stroke="#FFFFFF" />
                                    <circle cx="4.5" cy="36" r="1.5" transform="rotate(-180 4.5 36)" fill="#FFFFFF" />
                                    <circle cx="4.5" cy="36" r="4" transform="rotate(-180 4.5 36)" stroke="#FFFFFF" />
                                    <line x1="4.5" y1="8.5" x2="4.5" y2="31.5" stroke="#FFFFFF" />
                                </svg>
                                <div id="map__ping-city-wrapper">
                                    <div class="map__ping-city">
                                        <div city-label="dc"></div>
                                        <a class="map__ping-city-link" href="#">Learn more</a>
                                    </div>
                                    <div class="map__ping-city">
                                        <div city-label="destination"></div>
                                        <a class="map__ping-city-link" href="#">Learn more</a>
                                    </div>
                                </div>
                            </div>
                            <div id="map__ping-foot">
                                <p>Ping</p>
                                <div id="map-ping-panel-ping"></div>
                            </div>
                            <div id="map-ping-panel-ping-holder">
                            </div>
                            <div id="map-ping-button"></div>
                        </div>
                    </div>
                </div>
                <div id=map-element-label>
                    <p class="m-hide">Explore our Datacentre network to find your location</p>
                    <div class="label-seperator m-hide"></div>
                    <div class="label-marker" style="background-color: #34C759;"></div>
                    <p>Open Now</p>
                    <div class="label-seperator"></div>
                    <div class="label-marker" style="background-color: #FF9500;"></div>
                    <p>Coming Soon</p>
                </div>
            </div>
        </div>
    </div>
    <script>
        var alphabetArray = " 0123456789abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ|()".split("");

        async function changeText(el, newText) {
            if (el.innerHTML === newText) return;
            const textChangeId = parseInt(el.getAttribute('text-change-id') || 0) + 1;
            el.setAttribute('text-change-id', textChangeId);

            const clear = setInterval(interval, 5);

            function interval() {
                if (el.getAttribute('text-change-id') != textChangeId || el.innerHTML === newText) {
                    if (el.innerHTML === newText) el.removeAttribute('text-change-id');
                    clearInterval(clear);
                }
                const textArr = [];
                for (let i = 0; i < newText.length; i++) {
                    if (!el.innerHTML[i]) textArr[i] = Math.floor(Math.random() * alphabetArray.length);
                    else if (el.innerHTML[i] === newText[i]) textArr[i] = alphabetArray.indexOf(el
                        .innerHTML[i]);
                    else textArr[i] = alphabetArray.indexOf(el.innerHTML[i]) + (alphabetArray.indexOf(el
                        .innerHTML[i]) < alphabetArray.indexOf(newText[i]) ? 1 : -1);
                }
                const newArr = textArr.map(e => alphabetArray[e]);
                el.innerHTML = newArr.join('');
            }
        }

        async function changePing(el, newPing) {
            if (parseInt(el.innerHTML) === parseInt(newPing)) return;
            const textChangeId = parseInt(el.getAttribute('text-change-id') || 0) + 1;
            el.setAttribute('text-change-id', textChangeId);

            const clear = setInterval(interval, 80);

            function interval() {
                if (el.getAttribute('text-change-id') != textChangeId || parseInt(el.innerHTML) ===
                    parseInt(newPing)) {
                    if (parseInt(el.innerHTML) === parseInt(newPing)) el.removeAttribute('text-change-id');
                    clearInterval(clear);
                }
                const textArr = [];
                for (let i = 0; i < newPing.length; i++) {
                    if (isNaN(parseInt(el.innerHTML[i]))) textArr[i] = Math.floor(Math.random() * 10 + 1);
                    else if (el.innerHTML[i] === newPing[i]) textArr[i] = alphabetArray.indexOf(el
                        .innerHTML[i]);
                    else textArr[i] = alphabetArray.indexOf(el.innerHTML[i]) + (alphabetArray.indexOf(el
                        .innerHTML[i]) < alphabetArray.indexOf(newPing[i]) ? 1 : -1);
                }
                const newArr = textArr.map(e => alphabetArray[e]);
                el.innerHTML = newArr.join('') + 'ms';
            }
        }
    </script>
    <script>
        const vw = Math.max(document.documentElement.clientWidth || 0, window.innerWidth || 0)
        var mapElement = document.querySelector('#map-element');
        var sidePanel = document.querySelector("#map-side-panel");
        var selectStartCont = document.querySelector("#city-select-start");
        var selectEndCont = document.querySelector("#city-select-end");
        var selectStart = selectStartCont.querySelector('select');
        var selectEnd = selectEndCont.querySelector('select');
        var pingPanel = document.querySelector('#map-ping-panel');
        var pingPanelDc = pingPanel.querySelector('[city-label="dc"]');
        var pingPanelCt = pingPanel.querySelector('[city-label="destination"]');
        var pingPanelContent = pingPanel.querySelector('#map-ping-content');
        var pingPanelButton = pingPanel.querySelector('#map-ping-button');

        // function called when some starting point (data center) is selected
        var showSelection = (cityName) => {
            // adjust display of dropdowns
            selectStartCont.setAttribute('active', '');
            selectEnd.removeAttribute('disabled');
            selectEndCont.removeAttribute('disabled');

            // get data about starting point from json
            const curEndpoints = Object.keys(datacenterDetails[cityName]
                .endpoint); // valid city endpoints of the data center
            const datacentres = Object.keys(datacenterDetails); // all datacentres
            const curPartners = Object.keys(datacenterDetails[cityName][
                'telco-partners'
            ]); // telco partners of the data center
            const curProvidersSet = new Set(Object.values(datacenterDetails[cityName]['telco-partners'])
                .reduce((acc, cur) => [...acc, ...cur], [])); // cloud providers of the data center
            const curFabrics = Object.keys(datacenterDetails[cityName][
                'network-fabric'
            ]); // fabric partners of the data center
            const curFabricsSet = new Set(Object.values(datacenterDetails[cityName]['network-fabric'])
                .reduce((acc, cur) => [...acc, ...cur], [])); // fabric providers of the data center
            const curProviders = [...curProvidersSet];

            // display the lines and city
            [...document.querySelectorAll(`.city-group`)].forEach(group => {
                if (group.id === cityName) group.setAttribute('dc', '');
                else group.removeAttribute('dc');

                if (group.id === cityName || curEndpoints.includes(group.id)) group.setAttribute(
                    'on', '');
                else group.removeAttribute('on');
            });
            try {
                [...document.querySelector('[city-lines]').querySelectorAll('path')].forEach(e => e
                    .removeAttribute('on'));
                [...document.querySelectorAll(`[dc="${cityName}"]`)].forEach(e => {
                    setTimeout(() => e.setAttribute('on', ''), Math.random() * 280);
                });
            } catch { }

            // adjust display of destination dropdown to highlight available cities 
            [...selectEnd.querySelectorAll('option')].forEach(opt => {
                if (curEndpoints.includes(opt.value) || !opt.value) opt.removeAttribute('disabled');
                else opt.setAttribute('disabled', '');
            })

            // adjust ping display for the datacenter to (selected?) global city
            if (curEndpoints.includes(selectEnd.value)) selectDestination(selectEnd.value);
            else {
                selectEnd.value = '';
                selectEndCont.removeAttribute('active');
                [...document.querySelectorAll('[dc][city]')].forEach(e => e.removeAttribute('selected'));
                pingPanel.removeAttribute('active');
            }
        }

        var closeSelection = () => {
            selectStartCont.removeAttribute('active');
            selectEnd.value = '';
            selectEnd.setAttribute('disabled', '');
            selectEndCont.setAttribute('disabled', '');
            [...document.querySelector('[city-lines]').querySelectorAll('path')].forEach(e => e
                .removeAttribute('on'));
            [...document.querySelectorAll(`.city-group`)].forEach(group => {
                if (Object.keys(datacenterDetails).includes(group.id)) group.setAttribute('dc', '');
                group.removeAttribute('on');
            });

            closeDestination();
        }

        var selectDestination = (destName) => {
            selectEndCont.setAttribute('active', '');
            // destinationDetails.removeAttribute('off');
            [...document.querySelectorAll('[dc][city]')].forEach(e => e.removeAttribute('selected'));

            // add dc to selected destination city to make it highlighted
            let otherCities = document.querySelectorAll('g.city-group:not(#' + selectStart.value + ')')
            for (let i = 0; i < otherCities.length; i++) {
                otherCities[i].removeAttribute('dc');
            }
            document.querySelector("#" + destName).setAttribute("dc", '');

            // set other lines invisible
            let otherLines = document.querySelectorAll(`[city-lines] path:not([city="${destName}"]):not([dc="${selectStart.value}"])`);
            for (let i = 0; i < otherLines.length; i++) {
                otherLines[i].setAttribute('invisible', '');
            }

            const curLine = document.querySelector(`[dc="${selectStart.value}"][city="${destName}"]`);
            curLine.setAttribute('selected', '');

            const dString = curLine.getAttribute('d').replaceAll(',', ' ').replaceAll('M', '').replaceAll(
                'C', ' ');
            const [px, py, qx, qy, rx, ry, sx, sy] = dString.split(/[ ]{1,}/);

            function getMidPoint(p, q, r, s) {
                return (parseFloat(p) + 3 * parseFloat(q) + 3 * parseFloat(r) + parseFloat(s)) / 8;
            }
            const [anchorX, anchorY] = [getMidPoint(px, qx, rx, sx), getMidPoint(py, qy, ry, sy)];

            const rootSVG = document.querySelector('#map-element svg');
            const point = rootSVG.createSVGPoint();
            let matrix, position;

            matrix = curLine.getCTM();
            point.x = anchorX;
            point.y = anchorY;
            position = point.matrixTransform(matrix);

            pingPanel.style.left = position.x + 'px';
            pingPanel.style.top = position.y + 'px';

            changeText(pingPanelDc, selectStart.options[selectStart.selectedIndex].label);
            changeText(pingPanelCt, selectEnd.options[selectEnd.selectedIndex].label);
            changePing(document.querySelector('#map-ping-panel-ping'),
                `${parseInt(datacenterDetails[selectStart.value].endpoint[destName].ping)}`);
            pingPanel.setAttribute('active', '');
        }

        var closeDestination = () => {
            selectEndCont.removeAttribute('active');
            if (selectStart.value)
                document.querySelectorAll('g.city-group:not(#' + selectStart.value + ')').forEach(e => e.removeAttribute('dc'));
            [...document.querySelectorAll('[dc][city]')].forEach(e => e.removeAttribute('selected'));

            [...document.querySelectorAll(`[city-lines] path[invisible]`)].forEach(e => e.removeAttribute('invisible'));
            pingPanel.removeAttribute('active');
        }

        selectStart.addEventListener('change', () => {
            if (selectStart.value) {
                showSelection(selectStart.value);
            } else {
                closeSelection();
            }
        });

        selectEnd.addEventListener('change', () => {
            if (selectEnd.value) {
                selectDestination(selectEnd.value);
            } else {
                closeDestination();
            }
        });

        // listen for pingpanel going off the page
        let prvRight = parseInt(pingPanelContent.getBoundingClientRect().right);
        setInterval(() => {
            if (parseInt(pingPanelContent.getBoundingClientRect().right) != prvRight) {
                prvRight = parseInt(pingPanelContent.getBoundingClientRect().right) || 0;
                marginLeft = parseInt(pingPanelContent.style.marginLeft) || 0;
                mapBounds = parseInt(mapElement.getBoundingClientRect().right);
                if (prvRight - marginLeft > mapBounds) {
                    pingPanelContent.style.marginLeft = mapBounds - prvRight + marginLeft + 'px';
                } else {
                    pingPanelContent.style.marginLeft = '';
                }
                pingPanelButton.style.marginRight = pingPanelContent.style.marginLeft;
            }
        }, 20);
        /**
         *  Expand side panel menu on expand btn click
         */
        var expanded = false;
        var expandIcon = sidePanel.querySelector(".expand-icon");
        var expandDistance = vw > 767 ? 88 : 148;
        function expandMenu() {
            if (expanded) {
                sidePanel.style.transform = 'translateY(-' + expandDistance + 'px)';
                expandIcon.style.transform = 'rotate(0deg)';
                expanded = false;
            } else {
                sidePanel.style.transform = 'translateY(-100%)';
                expandIcon.style.transform = 'rotate(180deg)';
                expanded = true;
            }
        }

    </script>
</div>